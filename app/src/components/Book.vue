<template>
    <div class="book">
        <p class="book__author">{{ author }}</p>
        <h3 class="book__title">{{ title }}</h3>
        <p class="book__recommender"><i>written by {{ recommender }}</i></p>

        <!-- read more toggle -->
        <p v-if="!readMoreCliked" class="book__description">{{ description.slice(0, 300) }} <button v-if="description.length > 300" @click="toggleReadMore" class="book__description-readmore">[...Read more]</button></p> 
        <p v-else class="book__description">{{ description }} <button @click="toggleReadMore" class="book__description-readmore">[...Read less]</button></p>

        <p class="book__rating">
            <svg v-if="rating == 1" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M75 0H12.5C5.58984 0 0 5.58984 0 12.5V75C0 81.9102 5.58984 87.5 12.5 87.5H75C81.9102 87.5 87.5 81.9102 87.5 75V12.5C87.5 5.58984 81.9141 0 75 0ZM43.75 50C40.3125 50 37.5 47.1875 37.5 43.75C37.5 40.3125 40.3086 37.5 43.75 37.5C47.1914 37.5 50 40.3086 50 43.75C50 47.1914 47.1875 50 43.75 50Z" fill="#2E6390"/>
            </svg>

            <svg v-if="rating ==2" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M75 0H12.5C5.58984 0 0 5.58984 0 12.5V75C0 81.9102 5.58984 87.5 12.5 87.5H75C81.9102 87.5 87.5 81.9102 87.5 75V12.5C87.5 5.58984 81.9141 0 75 0ZM25 31.25C21.5625 31.25 18.75 28.4375 18.75 25C18.75 21.5625 21.5586 18.75 25 18.75C28.4414 18.75 31.25 21.5586 31.25 25C31.25 28.4414 28.4375 31.25 25 31.25ZM62.5 68.75C59.0586 68.75 56.25 65.9414 56.25 62.5C56.25 59.0586 59.0586 56.25 62.5 56.25C65.9414 56.25 68.75 59.0586 68.75 62.5C68.75 65.9414 65.9375 68.75 62.5 68.75Z" fill="#2E6390"/>
            </svg>

            <svg v-if="rating == 3" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M75 0H12.5C5.58984 0 0 5.58984 0 12.5V75C0 81.9102 5.58984 87.5 12.5 87.5H75C81.9102 87.5 87.5 81.9102 87.5 75V12.5C87.5 5.58984 81.9141 0 75 0ZM25 31.25C21.5625 31.25 18.75 28.4375 18.75 25C18.75 21.5625 21.5586 18.75 25 18.75C28.4414 18.75 31.25 21.5586 31.25 25C31.25 28.4414 28.4375 31.25 25 31.25ZM43.75 50C40.3125 50 37.5 47.1875 37.5 43.75C37.5 40.3125 40.3086 37.5 43.75 37.5C47.1914 37.5 50 40.3086 50 43.75C50 47.1914 47.1875 50 43.75 50ZM62.5 68.75C59.0586 68.75 56.25 65.9414 56.25 62.5C56.25 59.0586 59.0586 56.25 62.5 56.25C65.9414 56.25 68.75 59.0586 68.75 62.5C68.75 65.9414 65.9375 68.75 62.5 68.75Z" fill="#2E6390"/>
            </svg>

            <svg v-if="rating == 4" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M75 0H12.5C5.58984 0 0 5.58984 0 12.5V75C0 81.9102 5.58984 87.5 12.5 87.5H75C81.9102 87.5 87.5 81.9102 87.5 75V12.5C87.5 5.58984 81.9141 0 75 0ZM25 68.75C21.5586 68.75 18.75 65.9414 18.75 62.5C18.75 59.0586 21.5586 56.25 25 56.25C28.4414 56.25 31.25 59.0586 31.25 62.5C31.25 65.9414 28.4375 68.75 25 68.75ZM25 31.25C21.5625 31.25 18.75 28.4375 18.75 25C18.75 21.5625 21.5586 18.75 25 18.75C28.4414 18.75 31.25 21.5586 31.25 25C31.25 28.4414 28.4375 31.25 25 31.25ZM62.5 68.75C59.0586 68.75 56.25 65.9414 56.25 62.5C56.25 59.0586 59.0586 56.25 62.5 56.25C65.9414 56.25 68.75 59.0586 68.75 62.5C68.75 65.9414 65.9375 68.75 62.5 68.75ZM62.5 31.25C59.0586 31.25 56.25 28.4414 56.25 25C56.25 21.5586 59.0586 18.75 62.5 18.75C65.9414 18.75 68.75 21.5586 68.75 25C68.75 28.4414 65.9375 31.25 62.5 31.25Z" fill="#2E6390"/>
            </svg>

            <svg v-if="rating == 5" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M75 0H12.5C5.58984 0 0 5.58984 0 12.5V75C0 81.9102 5.58984 87.5 12.5 87.5H75C81.9102 87.5 87.5 81.9102 87.5 75V12.5C87.5 5.58984 81.9141 0 75 0ZM25 68.75C21.5586 68.75 18.75 65.9414 18.75 62.5C18.75 59.0586 21.5586 56.25 25 56.25C28.4414 56.25 31.25 59.0586 31.25 62.5C31.25 65.9414 28.4375 68.75 25 68.75ZM25 31.25C21.5625 31.25 18.75 28.4375 18.75 25C18.75 21.5625 21.5586 18.75 25 18.75C28.4414 18.75 31.25 21.5586 31.25 25C31.25 28.4414 28.4375 31.25 25 31.25ZM43.75 50C40.3125 50 37.5 47.1875 37.5 43.75C37.5 40.3125 40.3086 37.5 43.75 37.5C47.1914 37.5 50 40.3086 50 43.75C50 47.1914 47.1875 50 43.75 50ZM62.5 68.75C59.0586 68.75 56.25 65.9414 56.25 62.5C56.25 59.0586 59.0586 56.25 62.5 56.25C65.9414 56.25 68.75 59.0586 68.75 62.5C68.75 65.9414 65.9375 68.75 62.5 68.75ZM62.5 31.25C59.0586 31.25 56.25 28.4414 56.25 25C56.25 21.5586 59.0586 18.75 62.5 18.75C65.9414 18.75 68.75 21.5586 68.75 25C68.75 28.4414 65.9375 31.25 62.5 31.25Z" fill="#2E6390"/>
            </svg>

            <svg v-if="rating == 6" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M75 0H12.5C5.58984 0 0 5.58984 0 12.5V75C0 81.9102 5.58984 87.5 12.5 87.5H75C81.9102 87.5 87.5 81.9102 87.5 75V12.5C87.5 5.58984 81.9141 0 75 0ZM25 68.75C21.5586 68.75 18.75 65.9414 18.75 62.5C18.75 59.0586 21.5586 56.25 25 56.25C28.4414 56.25 31.25 59.0586 31.25 62.5C31.25 65.9414 28.4375 68.75 25 68.75ZM25 50C21.5625 50 18.75 47.1875 18.75 43.75C18.75 40.3125 21.5586 37.5 25 37.5C28.4414 37.5 31.25 40.3086 31.25 43.75C31.25 47.1914 28.4375 50 25 50ZM25 31.25C21.5625 31.25 18.75 28.4375 18.75 25C18.75 21.5625 21.5586 18.75 25 18.75C28.4414 18.75 31.25 21.5586 31.25 25C31.25 28.4414 28.4375 31.25 25 31.25ZM62.5 68.75C59.0586 68.75 56.25 65.9414 56.25 62.5C56.25 59.0586 59.0586 56.25 62.5 56.25C65.9414 56.25 68.75 59.0586 68.75 62.5C68.75 65.9414 65.9375 68.75 62.5 68.75ZM62.5 50C59.0586 50 56.25 47.1914 56.25 43.75C56.25 40.3086 59.0586 37.5 62.5 37.5C65.9414 37.5 68.75 40.3086 68.75 43.75C68.75 47.1914 65.9375 50 62.5 50ZM62.5 31.25C59.0586 31.25 56.25 28.4414 56.25 25C56.25 21.5586 59.0586 18.75 62.5 18.75C65.9414 18.75 68.75 21.5586 68.75 25C68.75 28.4414 65.9375 31.25 62.5 31.25Z" fill="#2E6390"/>
            </svg>






        </p>
    </div>
</template>
<script>
    export default {
        data() {
            return {
                readMoreCliked: false,
                diceForm: 10,
            }
        },

        methods: {
            toggleReadMore() {
                this.readMoreCliked = !this.readMoreCliked;
            }
        },

        props: {
            recommender: { type: String },
            title: { type: String },
            author: { type: String },
            description: {type: String},
            rating: { type: Number }
        }
    }
</script>
<style>
    .book {
        height: 100%;
        display: flex;
        flex-direction: column;
        font-family: var(--second-font);
        padding: 23px;
        border: 2px solid var(--text);
        position: relative;
        /* figure out how to only expand one component when read more */
    }

    .book__recommender {
        font-size: 1em;
        opacity: 70%;
    }

    .book__title {
        font-size: 2em;
    }

    .book__author {
        font-weight: 500;
    }

    .book__description {
        padding: 20px 0px;
    }

    .book__rating {
        rotate: 30deg;
        position: absolute;
        height: 65px;
        width: 65px;
        right: 0;
        bottom: 0;
        font-size: 1.3em;
        padding: 15px;
    }

    .book__description-readmore {
        background: none;
        border: none;
        color: var(--text);
        font-family: var(--second-font);
        font-weight: 500;
        cursor: pointer;
    }

    .book__description-readmore:hover {
        color: var(--soft-highlight);
    }
</style>